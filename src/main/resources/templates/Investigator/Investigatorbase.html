<!DOCTYPE html>
<html lang="en" th:fragment="layout(content)">
<head>
  <title>Home | Investigator - CyberTrace</title>
  <meta charset="utf-8">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <!-- CSS -->
  <link rel="icon" type="image/png" href="/assets/images/cybertrace-favicon.png">
  <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Public+Sans:wght@300;400;500;600;700&display=swap"
        id="main-font-link">
  <link rel="stylesheet" href="../assets/fonts/tabler-icons.min.css">
  <link rel="stylesheet" href="../assets/fonts/feather.css">
  <link rel="stylesheet" href="../assets/fonts/fontawesome.css">
  <link rel="stylesheet" href="../assets/fonts/material.css">
  <link rel="stylesheet" href="../assets/css/style.css" id="main-style-link">
  <link rel="stylesheet" href="../assets/css/style-preset.css">
  <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
  <link rel="stylesheet"
        href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">

        <!-- SweetAlert2 + helper (yahi pe daal) -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script>
    function showToast(message, type) {
      if (!message) return;
      Swal.fire({
        toast: true,
        icon: type || 'success',
        title: message,
        position: 'top-end',
        showConfirmButton: false,
        timer: 2500,
        timerProgressBar: true
      });
    }




// Logout button sweet Alert Code 
  function confirmLogout(logoutUrl) {
  Swal.fire({
    title: 'Logout from console?',
    text: 'You will be signed out of CyberTrace Investigator.',
    icon: 'warning',
    showCancelButton: true,
    confirmButtonColor: '#ef4444',
    cancelButtonColor: '#6b7280',
    confirmButtonText: 'Yes, logout',
    cancelButtonText: 'Cancel',
    background: '#020617',
    color: '#e5e7eb',
    position: 'top',
    padding: '6rem 1.25rem'
  }).then((result) => {
    if (result.isConfirmed) {
      window.location.href = logoutUrl;   // yahan kuch mat badal
    }
  });
}

  </script>

  <style>
    th,td { white-space: nowrap; }

    body{
      background:radial-gradient(circle at top,#020617 0,#020617 45%,#020617 70%,#000 100%);
      color:#e5e7eb;
      font-family:"Public Sans",system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
    }
    .pc-container{background:transparent;}

    .pc-sidebar{
      background:radial-gradient(circle at top,#020617 0,#020617 45%,#020617 70%,#000 100%);
      border-right:1px solid rgba(148,163,184,0.4);
      box-shadow:0 0 40px rgba(15,23,42,0.9);
    }
    .m-header a{
      color:#e5e7eb!important;
      text-decoration:none;
    }
    .m-header img{filter:drop-shadow(0 0 10px rgba(34,197,94,0.7));}

    .cyber-admin-title{
      background:linear-gradient(135deg,#22c55e,#60a5fa);
      -webkit-background-clip:text;
      background-clip:text;
      -webkit-text-fill-color:transparent;
      letter-spacing:0.12em;
      font-size:0.9rem;
      text-transform:uppercase;
    }

    .pc-navbar>.pc-item>.pc-link{
      border-radius:999px;
      margin:4px 10px;
      padding:10px 14px;
      color:#cbd5f5;
      display:flex;
      align-items:center;
      justify-content:space-between;
      transition:.2s;
    }
    .pc-navbar .pc-mtext{flex:1;margin-left:8px;}
    .pc-micon i{color:#4ade80;}

    .pc-navbar>.pc-item>.pc-link:hover,
    .pc-navbar>.pc-item.active>.pc-link{
      background:linear-gradient(90deg,rgba(34,197,94,0.4),rgba(59,130,246,0.4));
      box-shadow:0 0 0 1px rgba(34,197,94,0.7);
      color:#ffffff;
    }
    .pc-navbar>.pc-item>.pc-link:hover .pc-mtext,
    .pc-navbar>.pc-item.active>.pc-link .pc-mtext{
      color:#ffffff;
    }
    .pc-navbar>.pc-item>.pc-link:hover .pc-micon i,
    .pc-navbar>.pc-item.active>.pc-link .pc-micon i{
      color:#bbf7d0;
    }

    .pc-caption label{
      color:#6b7280;
      letter-spacing:.12em;
      font-size:.7rem;
      text-transform:uppercase;
    }

    .pc-submenu{
      list-style:none;
      padding-left:40px;
      margin:4px 0 8px;
    }
    .pc-submenu .pc-link{
      border-radius:999px;
      padding:7px 14px;
      color:#cbd5f5;
      display:block;
      font-size:.85rem;
      transition:.2s;
    }
    .pc-submenu .pc-link:hover{
      background:rgba(30,64,175,0.9);
      color:#ffffff;
    }

    .pc-header{
      background:rgba(6,10,20,0.96);
      backdrop-filter:blur(18px);
      border-bottom:1px solid rgba(34,197,94,0.4);
      box-shadow:0 10px 40px rgba(15,23,42,0.9);
    }
    .header-wrapper{
      padding-inline:1rem;
      min-height:64px;
      display:flex;
      align-items:center;
    }
    .header-wrapper .pc-head-link{
      color:#9ca3af;
      transition:.2s;
      border-radius:999px;
      padding:6px 10px;
    }
    .header-wrapper .pc-head-link:hover{
      color:#22c55e;
      background:rgba(15,23,42,0.9);
    }

    .pc-header-title{
      font-size:0.8rem;
      letter-spacing:0.16em;
      text-transform:uppercase;
      color:#6b7280;
    }

    .dropdown-notification{
      background:#020617;
      border:1px solid rgba(55,65,81,0.9);
      color:#e5e7eb;
      min-width:280px;
    }
    .dropdown-notification .dropdown-header h5{
      font-size:0.9rem;
      letter-spacing:0.08em;
      text-transform:uppercase;
      color:#9ca3af;
    }
    .dropdown-notification .list-group-item{
      background:transparent;
      border:0;
      color:#e5e7eb;
    }
    .dropdown-notification .text-muted{
      color:#9ca3af!important;
    }

    .header-user-profile .user-avatar{
      box-shadow:0 0 0 2px rgba(34,197,94,0.6);
    }
    .header-user-profile span{
      color:#e5e7eb;
      font-weight:600;
      font-size:0.9rem;
    }
    .header-user-profile .pc-head-link{
      display:flex;
      align-items:center;
      gap:6px;
      padding-inline:10px;
      background:rgba(15,23,42,0.9);
      border:1px solid rgba(55,65,81,0.9);
    }

    .dropdown-user-profile{
      background:#020617;
      border:1px solid rgba(55,65,81,0.9);
      min-width:260px;
    }
    .dropdown-user-profile .dropdown-header h6{
      color:#e5e7eb;
    }
    .dropdown-user-profile span{
      color:#9ca3af;
      font-size:0.8rem;
    }
    .dropdown-user-profile .dropdown-item{
      color:#e5e7eb;
      font-size:0.9rem;
    }
    .dropdown-user-profile .dropdown-item i{
      margin-right:6px;
      color:#9ca3af;
    }
    .dropdown-user-profile .dropdown-item:hover{
      background:rgba(31,41,55,0.9);
      color:#ffffff;
    }

    .card{
      background:rgba(15,23,42,0.98)!important;
      border-radius:18px!important;
      border:1px solid rgba(55,65,81,0.9)!important;
      box-shadow:0 18px 45px rgba(15,23,42,0.9);
    }
    .card-header{
      border-bottom:1px solid rgba(31,41,55,0.9)!important;
    }
    .table{color:#e5e7eb;}
    .table thead{
      background:rgba(15,23,42,1);
      color:#9ca3af;
    }
    .table tbody tr:nth-child(even){
      background:rgba(15,23,42,0.85);
    }
    .pc-footer{
      background:transparent;
      border-top:1px solid rgba(31,41,55,0.9);
      color:#6b7280;
    }
    .pc-footer a{color:#9ca3af;}
    .pc-footer a:hover{color:#22c55e;}


    /* ========= ================= ============= ===== global form label and modal css */
    /* Global form styling for dark theme */
.form-label,
label{
  color:#9ca3af !important;
  font-size:0.8rem;
  letter-spacing:0.06em;
  text-transform:uppercase;
}

/* Inputs / selects / textareas */
/* .form-control,
.form-select{
  background:#020617;
  border:1px solid #374151;
  color:#e5e7eb;
} */


.form-select:focus{
  background:#020617;
  border-color:#22c55e;
  box-shadow:0 0 0 1px rgba(34,197,94,0.7);
  color:#f9fafb;
}




/* Modal layout */
.modal-dialog{
  margin: 6rem auto; 
  margin-right: 11rem;            /* thoda neeche center feel */
}

.modal-content{
  background:#020617;
  color:#e5e7eb;
  border-radius:16px;
  border:1px solid #4b5563;
}

.modal-header{
  border-bottom:1px solid #4b5563;
}

.modal-body{
  color:#e5e7eb;
}

.modal-body p,
.modal-body span,
.modal-body label{
  color:#e5e7eb;
}

/* White description box inside modal */
.modal-body .bg-light,
.modal-body .border.rounded.bg-light{
  background:#020617 !important;
  border-color:#4b5563 !important;
  color:#e5e7eb !important;
}


  </style>
</head>

<body data-pc-preset="preset-1" data-pc-direction="ltr" data-pc-theme="dark">

  <div class="loader-bg">
    <div class="loader-track"><div class="loader-fill"></div></div>
  </div>

  <!-- SIDEBAR -->
  <nav class="pc-sidebar">
    <div class="navbar-wrapper">
      <div class="m-header">
        <a class="fw-bold d-flex align-items-center ms-3" href="Dashboard">
          <img src="https://cdn-icons-png.flaticon.com/512/3064/3064197.png"
               alt="logo" width="32" class="me-2">
          <span class="cyber-admin-title">CYBERTRACE Investigator</span>
        </a>
      </div>
      <div class="navbar-content">
        <ul class="pc-navbar">
          <li class="pc-item pc-hasmenu">
            <a href="Dashboard" class="pc-link">
              <span class="pc-micon"><i class="ti ti-dashboard"></i></span>
              <span class="pc-mtext">Dashboard</span>
            </a>
          </li>

          <li class="pc-item pc-caption">
            <label>Management</label>
            <i class="ti ti-dashboard"></i>
          </li>

          <li class="pc-item pc-hasmenu">
            <a href="AssignedComplaints" class="pc-link">
              <span class="pc-micon"><i class="ti ti-users"></i></span>
              <span class="pc-mtext">Assigned Complaints</span>
            </a>
          </li>

          <li class="pc-item pc-hasmenu">
            <a href="ClosedComplaints" class="pc-link">
              <span class="pc-micon"><i class="ti ti-color-swatch"></i></span>
              <span class="pc-mtext">Closed Complaints</span>
            </a>
          </li>

          <li class="pc-item pc-hasmenu">
            <a href="RejectedComplaints" class="pc-link">
              <span class="pc-micon"><i class="ti ti-plant-2"></i></span>
              <span class="pc-mtext">Rejected Complaints</span>
            </a>
          </li>

          <li class="pc-item pc-hasmenu">
            <a href="ViewProfile" class="pc-link">
              <span class="pc-micon"><i class="ti ti-brand-chrome"></i></span>
              <span class="pc-mtext">View Profile</span>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- HEADER -->
  <header class="pc-header">
    <div class="header-wrapper">
      <div class="me-auto d-flex align-items-center gap-2 pc-mob-drp">
        <ul class="list-unstyled d-flex mb-0 align-items-center">
          <li class="pc-h-item pc-sidebar-collapse">
            <a href="#" class="pc-head-link ms-0" id="sidebar-hide">
              <i class="ti ti-menu-2"></i>
            </a>
          </li>
          <li class="pc-h-item pc-sidebar-popup d-md-none">
            <a href="#" class="pc-head-link ms-0" id="mobile-collapse">
              <i class="ti ti-menu-2"></i>
            </a>
          </li>
        </ul>
        <span class="pc-header-title d-none d-sm-inline">Cybertrace Secure Console</span>
      </div>

      <div class="ms-auto">
        <ul class="list-unstyled d-flex align-items-center mb-0">
          <li class="dropdown pc-h-item header-user-profile">
            <a class="pc-head-link dropdown-toggle arrow-none me-0"
               data-bs-toggle="dropdown" href="#" role="button"
               data-bs-auto-close="outside">
              <img th:src="${session.loggedInUser.profilePic != null ?
                            '/Profiles/' + session.loggedInUser.profilePic :
                            '../assets/images/user/avatar-2.jpg'}"
                   alt="user-image" class="user-avatar rounded-circle"
                   style="height:32px;width:32px;">
              <span th:text="${session.loggedInUser.name}">Investigator</span>
              <i class="ti ti-chevron-down" style="font-size:0.8rem;"></i>
            </a>
            <div class="dropdown-menu dropdown-user-profile dropdown-menu-end pc-h-dropdown">
              <div class="dropdown-header">
                <div class="d-flex mb-1">
                  <div class="flex-shrink-0">
                    <img src="../assets/images/user/avatar-2.jpg"
                         alt="user-image" class="user-avtar wid-35">
                  </div>
                  <div class="flex-grow-1 ms-3">
                    <h6 class="mb-1" th:text="${session.loggedInUser.name}">Investigator</h6>
                    <span>Investigator</span>
                  </div>
                  <a href="#" class="pc-head-link bg-transparent"
   onclick="confirmLogout('/Investigator/logout'); return false;">
  <i class="ti ti-power text-danger"></i>
</a>

                </div>
              </div>
              <ul class="nav drp-tabs nav-fill nav-tabs" id="mydrpTab" role="tablist">
                <li class="nav-item" role="presentation">
                  <button class="nav-link active" id="drp-t1" data-bs-toggle="tab"
                          data-bs-target="#drp-tab-1" type="button" role="tab">
                    <i class="ti ti-user"></i> Profile
                  </button>
                </li>
              </ul>
              <div class="tab-content" id="mysrpTabContent">
                <div class="tab-pane fade show active" id="drp-tab-1" role="tabpanel">
                  <a href="UpdateProfilePic" class="dropdown-item">
                    <i class="ti ti-edit-circle"></i><span>Update Profile Pic</span>
                  </a>
                  <a href="ChangePassword" class="dropdown-item">
                    <i class="ti ti-clipboard-list"></i><span>Change Password</span>
                  </a>
                  <a href="#" class="dropdown-item"
                     onclick="confirmLogout('/Investigator/logout'); return false;">
                    <i class="ti ti-power"></i><span>Logout</span>
                  </a>
                </div>
              </div>
            </div>
          </li>

        </ul>
      </div>
    </div>
  </header>

  <div class="pc-container">
    <div class="pc-content">
      <div th:replace="${content}"></div>
    </div>
  </div>

  <footer class="pc-footer">
    <div class="footer-wrapper container-fluid">
      <div class="row">
        <div class="col-sm my-1">
          <p class="m-0">
            CyberTrace â™¥ crafted by
            <a href="https://www.instagram.com/abdurrahman_khaan/" target="_blank">
              Abdurrahman Khan
            </a>
          </p>
        </div>
        <div class="col-auto my-1">
          <ul class="list-inline footer-link mb-0">
            <li class="list-inline-item"><a href="Dashboard">Home</a></li>
          </ul>
        </div>
      </div>
    </div>
  </footer>

  <!-- JS -->
  <script src="../assets/js/pages/dashboard-default.js"></script>
  <script src="../assets/js/plugins/popper.min.js"></script>
  <script src="../assets/js/plugins/simplebar.min.js"></script>
  <script src="../assets/js/plugins/bootstrap.min.js"></script>
  <script src="../assets/js/fonts/custom-font.js"></script>
  <script src="../assets/js/pcoded.js"></script>
  <script src="../assets/js/plugins/feather.min.js"></script>

  <script>layout_change('dark');</script>
  <script>change_box_container('false');</script>
  <script>layout_rtl_change('false');</script>
  <script>preset_change("preset-1");</script>
  <script>font_change("Public-Sans");</script>

  <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
  <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
  <script>
    $(document).ready(function () {
      $('#myTable').DataTable({scrollX:true});
    });
  </script>

</body>
</html>
