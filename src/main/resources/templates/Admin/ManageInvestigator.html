<html th:replace="~{Admin/Adminbase::layout(~{::main})}">

<body>
  <main>
    <style>
      .card-manage-inv {
        border-radius: 18px !important;
      }

      .table-manage-inv.table-dark {
        font-size: 0.9rem;
      }

      .table-manage-inv.table-dark tbody tr:hover {
        background-color: #1f2937;
        /* hover pe thoda dark */
      }
    </style>

    <div class="row">
      <div class="col-12">
        <div class="card shadow-lg mt-3 card-manage-inv">
          <div class="card-header d-flex justify-content-between align-items-center"
            style="background:linear-gradient(90deg,#2563eb,#22c55e);">
            <h4 class="text-white m-0">Manage Investigators</h4>
            <span class="badge bg-dark bg-opacity-50 text-white-50">
              Total : <span th:text="${#lists.size(investigators)}">0</span>
            </span>
          </div>

          <div class="card-body">
            <div class="table-responsive mt-2">
              <!-- yahan 'table-dark' laga diya hai -->
              <table class="table table-dark table-bordered table-hover align-middle mb-0 table-manage-inv"
                style="min-width:1000px;">
                <thead>
                  <tr>
                    <th>Sr.</th>
                    <th>Name</th>
                    <th>Profile Pic</th>
                    <th>Gender</th>
                    <th>Contact</th>
                    <th>Email</th>
                    <th>Govt ID</th>
                    <th>Address</th>
                    <th>Reg Date</th>
                    <th>Status</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr th:each="user, srno : ${investigators}">
                    <td th:text="${srno.index + 1}"></td>

                    <td th:text="${user.name}"></td>

                    <td>
                      <img th:src="@{'/Profiles/' + ${user.profilePic}}" alt="image not found" width="40" height="40"
                        class="rounded-circle border border-success border-opacity-50">
                    </td>

                    <td th:text="${user.gender}"></td>
                    <td th:text="${user.contactNo}"></td>
                    <td th:text="${user.email}"></td>

                    <td>
                      <a th:href="@{'/IdProof/' + ${user.govtIdProof}}" class="text-info text-decoration-underline"
                        th:text="${user.name} + ' Govt. ID'" target="_blank"></a>
                    </td>

                    <td>
                      <span th:title="${user.address}" th:text="${#strings.abbreviate(user.address,35)}"></span>
                    </td>

                    <td th:text="${#temporals.format(user.regDate,'dd-MM-yyyy HH:mm')}"></td>

                    <td>
                      <a th:href="@{'UpdateStatus/' + ${user.id}}" class="badge px-3 py-2 text-decoration-none"
                        th:classappend="${user.status.name()=='BLOCKED'} ? ' bg-danger' : ' bg-success'"
                        th:text="${user.status.name()}">
                        STATUS
                      </a>
                    </td>

                    <td>
                      <a th:href="@{'/Admin/EditInvestigator/' + ${user.id}}" class="btn btn-outline-info btn-sm">
                        <i class="ti ti-edit me-1"></i>Edit
                      </a>

                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

        </div>
      </div>
    </div>
  </main>
</body>

</html>